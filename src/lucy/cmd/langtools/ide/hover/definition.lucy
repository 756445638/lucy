import "lucy/cmd/langtools/ide/utils"
import "lucy/cmd/langtools/compile/ast"


class FindDefinition {
    lucyFiles []utils.LucyFile 
    pos int
    
    fn FindDefinition(lucyFiles []utils.LucyFile , pos int){
        this.super()
        this.lucyFiles = lucyFiles
        this.pos = pos
    }
    
    fn find() -> (result Result){
        //parse ast and typecheck
        p,_ := utils.parseAstAndTypeCheck(this.lucyFiles)
        if p.locatedIdentifierPos == null {
            if p.locatedIdentifierPos.loadDefinitionFromOutside != null {
                return this.loadDefinitionFromOutside(p.locatedIdentifierPos.loadDefinitionFromOutside)
            }
            result = new  Result()
            result.filename = p.locatedIdentifierPos.filename 
            result.line = p.locatedIdentifierPos.line 
            result.column = p.locatedIdentifierPos.column 
            result.offset = p.locatedIdentifierPos.offset 
        }
    }
    


    fn loadDefinitionFromOutside(out ast.LoadDefinitionFromOutside) -> (result Result) {
        
    }
    
    
   



}







